"use strict";

(function () {
  var d = document,
      accordionToggles = d.querySelectorAll('.js-accordionTrigger'),
      menuToggles = d.querySelectorAll('.sf-section-navigation'),
      setAria,
      setAccordionAria,
      switchAccordion,
      touchSupported = 'ontouchstart' in window,
      pointerSupported = 'pointerdown' in window;

  var skipClickDelay = function skipClickDelay(e) {
    e.preventDefault();
    e.target.click();
  };

  var setAriaAttr = function setAriaAttr(el, ariaType, newProperty) {
    el.setAttribute(ariaType, newProperty);
  };

  var setAccordionAria = function setAccordionAria(el1, el2, expanded) {
    switch (expanded) {
      case "true":
        setAriaAttr(el1, 'aria-expanded', 'true');
        setAriaAttr(el2, 'aria-hidden', 'false');
        break;

      case "false":
        setAriaAttr(el1, 'aria-expanded', 'false');
        setAriaAttr(el2, 'aria-hidden', 'true');
        break;

      default:
        break;
    }
  };

  var switchAccordion = function switchAccordion(e) {
    e.preventDefault();
    var targetParent = e.target.parentNode;
    var targetSibling = e.target.nextElementSibling;
    var target = e.target;

    if (targetSibling.classList.contains('is-collapsed')) {
      setAccordionAria(target, targetSibling, 'true');
    } else {
      setAccordionAria(target, targetSibling, 'false');
    }

    target.classList.toggle('is-collapsed');
    target.classList.toggle('is-expanded');
    targetSibling.classList.toggle('is-collapsed');
    targetSibling.classList.toggle('is-expanded');
    targetParent.classList.toggle('is-expanded');
    targetSibling.classList.toggle('animateIn');
  };

  for (var i = 0, len = accordionToggles.length; i < len; i++) {
    if (touchSupported) {
      accordionToggles[i].addEventListener('touchstart', skipClickDelay, false);
    }

    if (pointerSupported) {
      accordionToggles[i].addEventListener('pointerdown', skipClickDelay, false);
    }

    accordionToggles[i].addEventListener('click', switchAccordion, false);
  } // Mobile


  var toggleMobileSectionNavigation = function toggleMobileSectionNavigation() {
    var sectionNavigation = this.nextElementSibling;
    var targetSectionNavigationTitle = this;
    targetSectionNavigationTitle.classList.toggle('is-open');
    sectionNavigation.classList.toggle('is-collapsed');
    sectionNavigation.classList.toggle('animateIn');
  }; //Sticky


  var stickySidebar = function stickySidebar() {
    var windowWidth = window.innerWidth;

    if (windowWidth > 1020) {
      stick();
    } else {
      unstick();
    }
  };

  var stick = function stick() {
    var bottomSpacing = document.getElementById("sf-footer").getBoundingClientRect().height;
    $("#sidebar").sticky({
      topSpacing: 60,
      bottomSpacing: bottomSpacing,
      responsiveWidth: true
    });
  };

  var unstick = function unstick() {
    $('#sidebar').unstick();
  };

  stickySidebar();
  window.addEventListener("resize", stickySidebar, false); // Sticky end    

  for (var j = 0, jen = menuToggles.length; j < jen; j++) {
    menuToggles[j].addEventListener('click', toggleMobileSectionNavigation);
  }
})();
//# sourceMappingURL=vertical-sticky-navigation.min.js.map
